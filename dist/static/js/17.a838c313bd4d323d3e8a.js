webpackJsonp([17],{"6C3s":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),r=a.n(n),i=a("HVJf"),s=a("0uLg"),l=a("0xDb"),o=a("P9l9"),c=l.a.getTime(14,!0),u=c.start_time,h=c.end_time,m={components:{GetTime:s.a},data:function(){return{currentPage:1,firstArgent:"",twoArgent:"",companyName:"",timeout:null,queryParams:{page_size:10,page:1,trade_start_date:u,trade_end_date:h,service_type:"",agent_id:""}}},created:function(){this.getSearchAgentList({type:0}),this.getData()},methods:r()({},Object(i.b)(["getSearchAgentList","getSearchCompanyList","getPointTransferList"]),Object(i.d)(["setSearchAgentList","setSearchCompanyList"]),{resetPage:function(){this.currentPage=1,this.queryParams.page=1},queryFistAgent:function(e,t){this.querySearchAsync(e,t,this.searchAgentList)},queryTwoArgent:function(e,t){this.querySearchAsync(e,t,this.allAgentList)},queryCompanyName:function(e,t){this.querySearchAsync(e,t,this.searchCompanyList)},querySearchAsync:function(e,t,a){var n=e?a.filter(this.createStateFilter(e)):a;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t(n)},1e3*Math.random())},createStateFilter:function(t){return function(e){return-1!==e.value.toLowerCase().indexOf(t.toLowerCase())}},search:function(){this.resetPage(),this.getData()},getData:function(){console.log(this.queryParams),this.getPointTransferList(this.queryParams)},fistAgentHandleSelect:function(e){this.queryParams.top_agent_uid=e.uid||""},twoArgentHandleSelect:function(e){this.queryParams.agent_id=e.uid||""},CompanyNameHandleSelect:function(e){this.queryParams.company_input_id=e.company_id||""},rankChange:function(e){this.queryParams.rank=e},onChangeTimeRangeLine:function(e){this.queryParams.trade_start_date=e.start_time,this.queryParams.trade_end_date=e.end_time},exportExcel:function(){location.href=o.E+"?"+l.a.jsonToUrlFmt(this.queryParams)},handleSizeChange:function(e){this.resetPage(),this.queryParams.page_size=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.queryParams.page=e,this.getData()}}),computed:r()({},Object(i.c)(["allAgentList","searchCompanyList","pointTransferList"])),watch:{firstArgent:function(e){!e&&this.fistAgentHandleSelect("")},twoArgent:function(e){!e&&this.twoArgentHandleSelect("")},companyName:function(e){!e&&this.CompanyNameHandleSelect("")}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"Tab"},[a("el-form",{ref:"form",attrs:{size:"small","label-position":"left","label-width":"100px"}},[a("div",[a("div",[a("el-form-item",{attrs:{label:"业务类型"}},[a("el-select",{on:{change:t.rankChange},model:{value:t.queryParams.service_type,callback:function(e){t.$set(t.queryParams,"service_type",e)},expression:"queryParams.service_type"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"转账",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"核心代理商开户",value:"12"}}),t._v(" "),a("el-option",{attrs:{label:"代理商开户",value:"13"}}),t._v(" "),a("el-option",{attrs:{label:"异地开户服务费",value:"16"}}),t._v(" "),a("el-option",{attrs:{label:"异地续费服务费",value:"17"}}),t._v(" "),a("el-option",{attrs:{label:"代理商推荐奖励",value:"14"}}),t._v(" "),a("el-option",{attrs:{label:"消耗推点奖励",value:"15"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"交易日期"}},[a("GetTime",{attrs:{showDay:!1,isclearable:!1},on:{changeTime:t.onChangeTimeRangeLine}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"支出主体"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.queryTwoArgent,placeholder:"请输入支出主体",clearable:""},on:{select:t.twoArgentHandleSelect},model:{value:t.twoArgent,callback:function(e){t.twoArgent=e},expression:"twoArgent"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.search(e)}}},[t._v("查询")])],1)],1)])]),t._v(" "),a("div",{staticClass:"tab"},[a("div",{staticClass:"data-table-func text-right"},[a("el-button",{staticClass:"dcsh",attrs:{type:"button"},on:{click:t.exportExcel}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"data-table"},[a("el-table",{attrs:{data:t.pointTransferList.list,"max-height":"630",border:""}},[a("el-table-column",{attrs:{prop:"exp_name",label:"支出主体"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inc_name",label:"收入主体"}}),t._v(" "),a("el-table-column",{attrs:{prop:"service_type",label:"业务类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recharge_point",label:"推点数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"trade_date",label:"交易日期"}})],1)],1),t._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{layout:"prev, pager, next, total, sizes","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":10,total:t.pointTransferList.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)])},staticRenderFns:[]};var p=a("C7Lr")(m,g,!1,function(e){a("Gcq6")},"data-v-701f92fc",null);t.default=p.exports},Gcq6:function(e,t){}});