{"source":"webpackJsonp([11],{R5Cy:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var s=e(\"4YfN\"),n=e.n(s),l=e(\"HVJf\"),r=e(\"0xDb\"),o={components:{},data:function(){return{currentPage:1,tableData:[],params:{page:1,page_size:10}}},created:function(){},mounted:function(){this.getTaskLis(this.params)},methods:n()({},Object(l.b)([\"getTaskLis\",\"delTask\",\"taskData\"]),{down:function(t){var a=this;console.log(t),1==t.status&&this.taskData({project_name:t.job_name,cellpack:function(t){r.a.msg(\"下载成功！\"),a.getTaskLis(a.params)}})},del:function(t){var a=this;this.delTask({project_name:t.job_name,cellpack:function(t){r.a.msg(\"删除成功！\"),a.getTaskLis(a.params)}})},handleSizeChange:function(t){this.params.page_size=t,this.currentPage=1,this.getTaskLis(this.params)},handleCurrentChange:function(t){this.params.page=t,this.currentPage=t,this.getTaskLis(this.params)},handleToDown:function(){this.$router.push(\"/downTask\")}}),computed:n()({},Object(l.c)([\"taskLis\"]))},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"h2\",{staticClass:\"page-title\"},[e._v(\"任务列表 \")]),e._v(\" \"),s(\"el-button\",{staticClass:\"pull-right\",staticStyle:{\"margin-bottom\":\"15px\"},attrs:{type:\"button\",size:\"small\"},on:{click:e.handleToDown}},[e._v(\"新增下载任务\")]),e._v(\" \"),s(\"div\",{staticClass:\"tab\"},[s(\"div\",{staticClass:\"data-table\"},[s(\"el-table\",{attrs:{data:e.taskLis.data,border:\"\",\"max-height\":\"630\"}},[s(\"el-table-column\",{attrs:{prop:\"job_name\",label:\"任务名称\"}}),e._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"main_filed\",label:\"主要数据字段\"}}),e._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"time_size\",label:\"时间粒度\"}}),e._v(\" \"),s(\"el-table-column\",{attrs:{label:\"时间范围\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\"\\n\\t\\t\\t\\t\\t\\t \"+e._s(t.row.start_time)+\"~\"+e._s(t.row.end_time)+\"\\n\\t\\t\\t\\t\\t\")]}}])}),e._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"created_at\",label:\"创建时间\"}}),e._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"down_status\",label:\"下载状态\"}}),e._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"username\",label:\"操作人\"}}),e._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"status\",label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(a){return[s(\"span\",{class:\"1\"!=a.row.status?\"haved\":\"tabel-but\",on:{click:function(t){e.down(a.row)}}},[e._v(\"下载\")]),e._v(\" \"),s(\"span\",{staticClass:\"tabel-but\",on:{click:function(t){e.del(a.row)}}},[e._v(\"删除\")])]}}])})],1)],1),e._v(\" \"),s(\"div\",{staticClass:\"pager\"},[s(\"el-pagination\",{attrs:{layout:\"prev, pager, next, total, sizes\",\"current-page\":e.currentPage,\"page-sizes\":[10,20,50,100],\"page-size\":10,total:e.taskLis.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)])],1)},staticRenderFns:[]};var c=e(\"C7Lr\")(o,i,!1,function(t){e(\"b2Rh\")},null,null);a.default=c.exports},b2Rh:function(t,a){}});"}